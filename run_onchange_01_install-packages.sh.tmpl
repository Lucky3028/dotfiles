#!/bin/bash

set -euxo pipefail

{{ if eq .chezmoi.osRelease.id "ubuntu" }}

sudo apt-get update && DEBIAN_FRONTEND=noninteractive sudo apt-get install -y --no-install-recommends \
  ca-certificates \
  curl \
  # 最新版のgitビルドを提供しているPPAが、古いアルゴリズムの証明書を使用しているので使いたくないため、公式にリリースされているバージョンを使用する
  git \
  gnupg \
  gnupg-agent \
  gpg \
  gzip \
  less \
  libfuse-dev \
  libsqlite3-dev \
  libssl-dev \
  lsb-release \
  openssh-client \
  pcscd \
  scdaemon \
  socat \
  sudo \
  procps \
  unzip \
  vim-gtk3 \
  wget \
  xz-utils \
  zip \
  zsh

{{ else if eq .chezmoi.osRelease.id "arch" }}

sudo pacman -Sy \
  ca-certificates \
  ccid \
  curl \
  git \
  gnupg \
  gpg \
  gzip \
  less \
  lsb-release \
  openssh \
  opensc \
  socat \
  sudo \
  procps \
  unzip \
  vim \
  wget \
  xz \
  zip \
  zsh

{{ end }}

